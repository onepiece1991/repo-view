{"version":3,"sources":["webpack:///./src/components/base/date.vue?7df1","webpack:///./src/views/plugin/calendarNormal.vue","webpack:///./src/components/base/date.vue","webpack:///./src/components/base/date.vue?1579","webpack:///./src/views/plugin/calendarNormal.vue?c409"],"names":["class","_createElementBlock","_createElementVNode","_toDisplayString","$data","_createVNode","_component_Date","ref","onChoseDay","$options","onChangeMonth","onIsToday","markDate","_hoisted_11","onClick","_ctx","_Fragment","_renderList","thTxt","i","key","item","j","tdList","cell","k","otherMonth","festivalDay","sign","data-date","yearNo","toString","monthNo","daynumber","weekend","weekendsDay","_hoisted_12","Nowtime","Date","currYear","getFullYear","currMonth","getMonth","currDay","getDate","props","type","Array","default","data","weekdays","weekends","thList","yearList","monthList","tbodyList","selectedDay","isFestivalDay","created","this","selectedYear","selectedMonth","getWeekData","mounted","$nextTick","setTimeout","initCalendar","methods","y","m","createCalendar","localServer","get","then","res","catch","error","console","log","JSON","stringify","currentStyle","i1","i2","dayInfo","cellSelected","j1","j2","dayInfo2","pervLastDay","fixedDate","setdateinfo","firstDay","getDay","pervMonthlastDay","getPervMonthLastDay","lastdays","tbodyListResult","tdListResult","previ","tdData","signDayTxt","parseInt","push","startDays","curri","tdData2","currMonthLashDay","getCurrMonthLashDay","loopT","lastFirstDay","tbodyListResult3","tdListResult3","tdData3","almanac","concat","year","month","day","date1","setFullYear","setMonth","check","c","r","test","d","weekDTxt","weekDArr","split","weekETxt","weekEArr","clickDate","n","dateInfo","$emit","prevYear","nextYear","prevMonth","nextMonth","backtoToday","markStyle","markArr","__exports__","markDateArr","sY","sM","sD","initSelectedDate","$refs","date","substr","clickdDay","clickMonth","clickToday","components","render"],"mappings":"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","file":"js/chunk-1fcfcb61.30990e65.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./date.vue?vue&type=style&index=0&id=293da161&lang=less&scoped=true\"","<template>\n  <div class=\"cont-box\">\n    <p>选中的日期: {{ selectedDay }}</p>\n    <Date\n      ref=\"date\"\n      @choseDay=\"clickdDay\"\n      @changeMonth=\"clickMonth\"\n      @isToday=\"clickToday\"\n      :markDate=\"markDateArr\"\n    ></Date>\n  </div>\n</template>\n\n<script>\nimport { localServer } from \"@/utility/global\";\nimport Date from \"@/components/base/date\";\n// choseDay： 选中某天调用的方法，返回选中的日期 YY-MM-DD; 默认：无\t（非必传）\n// changeMonth： 切换月份调用的方法，返回切换到某月的日期 YY-MM-DD; 默认：无\t（非必传）\n// isToday： 切换月份的时候，如果切到当前月份，调用这个方法，返回当前月今天; 默认：无\t（非必传）\n// markDate： 如果需要某月的几天被标注，传当月的日期数组。如[\"2018/2/2\",\"2018/2/6\"]被会标注（相同的标记）; 默认：空数组\t（非必传）\n// agoDayHide： 某个日期以前的不允许点击,时间戳长度是 10 位; 默认：0\t（非必传）\n// futureDayHide： 某个日期以后的不允许点击,时间戳长度是 10 位; 默认：很大\t（非必传）\n// sundayStart： 默认是周一开始 当是true的时候 是周日开始; 默认：false\t（非必传）\n// textTop：日历头部的文字，默认是 [ '一', '二', '三', '四', '五', '六', '日'] ，可以根据自己的需求进行不同的修改。\n\nexport default {\n  data() {\n    return {\n      selectedDay: \"\",\n      markDateArr: [],\n      sY: \"\",\n      sM: \"\",\n      sD: \"\",\n    };\n  },\n  created() {\n    this.getWeekData();\n  },\n  mounted() {\n    this.$nextTick(() => {\n      this.initSelectedDate();\n    });\n  },\n  methods: {\n    // 得到选中的年（sY）月（sM）日（sD）; 选中的日期selectedDay:YY-MM-DD\n    initSelectedDate() {\n      this.sY = this.$refs.date.selectedYear;\n      this.sM = this.$refs.date.selectedMonth;\n      this.sD = this.$refs.date.selectedDay;\n      this.selectedDay =\n        this.sY +\n        \"-\" +\n        (\"00\" + this.sM).substr(-2, 2) +\n        \"-\" +\n        (\"00\" + this.sD).substr(-2, 2);\n    },\n    // 选中某天\n    clickdDay() {\n      this.initSelectedDate();\n    },\n    // 切换月份\n    clickMonth() {\n      this.initSelectedDate();\n    },\n    // 点击返回今天\n    clickToday() {\n      this.initSelectedDate();\n    },\n    getWeekData() {\n      localServer\n        .get(\"/baseD/mark.json\")\n        .then((res) => {\n          this.markDateArr = res.data.markDate;\n        })\n        .catch((error) => {\n          console.log(JSON.stringify(error));\n        });\n    },\n  },\n  components: { Date },\n};\n</script>\n\n<style lang=\"less\" scoped></style>\n","<template>\n  <div class=\"cont-box\">\n    <div class=\"c-header\">\n      <div class=\"c-btn\" @click=\"prevYear\">&lt;&lt;</div>\n      <div class=\"c-btn\" @click=\"prevMonth\">&lt;</div>\n      <div class=\"c-seleced\">{{ selectedYear }}年{{ selectedMonth }}月</div>\n      <div class=\"c-btn\" @click=\"nextMonth\">&gt;</div>\n      <div class=\"c-btn\" @click=\"nextYear\">&gt;&gt;</div>\n    </div>\n    <div class=\"content-box\">\n      <!-- thead -->\n      <div class=\"content-thead\">\n        <div class=\"content-th\" v-for=\"(thTxt, i) in thList\" :key=\"i\">\n          {{ thTxt }}\n        </div>\n      </div>\n      <div class=\"content-row\" v-for=\"(item, j) in tbodyList\" :key=\"j\">\n        <div class=\"content-td\" v-for=\"(cell, k) in item.tdList\" :key=\"k\">\n          <div\n            class=\"cell-box\"\n            :class=\"{\n              other: cell.otherMonth,\n              festival: cell.festivalDay,\n              'cell-weekday-box': cell.sign == '班',\n              'cell-weekend-box': cell.sign == '休',\n              selected: cellSelected(j, k),\n              today: currentStyle(j, k),\n            }\"\n            :data-date=\"\n              cell.yearNo.toString() +\n              '-' +\n              cell.monthNo.toString() +\n              '-' +\n              cell.daynumber.toString()\n            \"\n            @click=\"clickDate(j, k)\"\n          >\n            <div class=\"cell-holiday-sign\">{{ cell.sign }}</div>\n            <div class=\"cell-daynumber\" :class=\"{ weekend: cell.weekendsDay }\">\n              <span class=\"number\">{{ cell.daynumber }}</span>\n            </div>\n            <div class=\"cell-almanac\" v-if=\"currentStyle(j, k)\">今天</div>\n            <div class=\"cell-mark\" v-if=\"markStyle(j, k)\"><i></i></div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <button class=\"back-today\" ref=\"todayS\" @click=\"backtoToday\">\n      返回今天\n    </button>\n  </div>\n</template>\n\n<script>\nimport { localServer } from \"@/utility/global\";\n\nconst Nowtime = new Date();\n//当前年份\nconst currYear = Nowtime.getFullYear();\n//当前月份\nconst currMonth = Nowtime.getMonth() + 1;\n//当前日\nconst currDay = Nowtime.getDate();\n\nexport default {\n  props: {\n    markDate: {\n      type: Array,\n      default: () => [],\n    },\n  },\n  data() {\n    return {\n      weekdays: [], // 班\n      weekends: [], // 休\n      currYear: currYear,\n      currMonth: currMonth,\n      currDay: currDay,\n      thList: [\"一\", \"二\", \"三\", \"四\", \"五\", \"六\", \"日\"],\n      yearList: [], //年份列表\n      monthList: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12],\n      tbodyList: [],\n      selectedDay: \"\",\n      isFestivalDay: false,\n    };\n  },\n  created() {\n    this.selectedYear = this.currYear;\n    this.selectedMonth = this.currMonth;\n    this.selectedDay = this.currDay;\n    // 年份列表\n    for (let i = 1900; i <= 2050; i++) {\n      this.yearList[i - 1900] = i;\n    }\n    this.getWeekData();\n  },\n  mounted() {\n    this.$nextTick(() => {\n      setTimeout(() => {\n        this.initCalendar(this.selectedYear, this.selectedMonth);\n      }, 200);\n    });\n  },\n  methods: {\n    initCalendar(y, m) {\n      this.createCalendar(y, m);\n    },\n    getWeekData() {\n      localServer\n        .get(\"/baseD/week.json\")\n        .then((res) => {\n          this.weekdays = res.data.weekdays;\n          this.weekends = res.data.weekends;\n        })\n        .catch((error) => {\n          console.log(JSON.stringify(error));\n        });\n    },\n    // 今天\n    currentStyle(i1, i2) {\n      let dayInfo = this.tbodyList[i1].tdList[i2];\n      if (\n        dayInfo.yearNo == this.currYear &&\n        dayInfo.monthNo == this.currMonth &&\n        dayInfo.daynumber == this.currDay\n      ) {\n        return true;\n      } else {\n        return false;\n      }\n    },\n    // 选中\n    cellSelected(j1, j2) {\n      let dayInfo2 = this.tbodyList[j1].tdList[j2];\n      if (\n        dayInfo2.yearNo == this.selectedYear &&\n        dayInfo2.monthNo == this.selectedMonth &&\n        dayInfo2.daynumber == this.selectedDay\n      ) {\n        // 如果被选中的是节假日当天\n        if (dayInfo2.festivalDay) {\n          this.isFestivalDay = true;\n        } else {\n          this.isFestivalDay = false;\n        }\n        return true;\n      } else {\n        return false;\n      }\n    },\n    // 根据年月绘制表格，年月变动则重新绘制\n    createCalendar(y, m) {\n      //先得到当前月第一天是星期几,然后根据这个星期算前面几天的上个月最后几天.\n      let fixedDate = this.setdateinfo(y, m, 1);\n      //当前月第一天星期几,星期一到星期日的值分别是1-2-3-4-5-6-0\n      let firstDay = fixedDate.getDay();\n      //上个月的最后一天是星期几\n      let pervLastDay;\n      if (firstDay != 0) {\n        pervLastDay = firstDay - 1;\n      } else {\n        pervLastDay = 6;\n      }\n      //得到上个月最后一天;\n      let pervMonthlastDay = this.getPervMonthLastDay(y, m);\n      //上月最后几天循环\n      let lastdays = pervMonthlastDay - pervLastDay + 1;\n      let tbodyListResult = [];\n      let tdListResult = [];\n      // tdData = {\n      //   sign: \"\",  取值：“班”;“休”\n      //   yearNo: 年\n      //   monthNo: 月\n      //   daynumber: \"\", 公立日期\n      //   almanac: \"\", 今天（old：农历日期）\n      //   weekendsDay: Boolean, 是否是周末\n      //   otherMonth: Boolean, 上个月和下个月取值true,当前月取值false\n      //   festivalDay: Boolean, 是否是假日当天\n      // };\n      for (let previ = lastdays; previ <= pervMonthlastDay; previ++) {\n        let tdData = {\n          // sign: this.signDayTxt(y, m - 1, previ),\n          sign: this.signDayTxt(\n            parseInt(m) - 1 > 0 ? y : parseInt(y) - 1,\n            parseInt(m) - 1 > 0 ? parseInt(m) - 1 : 12,\n            previ\n          ),\n          yearNo: parseInt(m) - 1 > 0 ? y : parseInt(y) - 1,\n          monthNo: parseInt(m) - 1 > 0 ? parseInt(m) - 1 : 12,\n          daynumber: previ,\n\n          weekendsDay: false,\n          otherMonth: true,\n        };\n        // if (JCLunar.solar2lunar(y, m, previ).nWeek > 5) {\n        //   tdData.weekendsDay = true;\n        // }\n        tdListResult.push(tdData);\n      }\n\n      //这个月开始的循环\n      //这个月startDays的取值 1-2-3-4-5-6-7\n      let startDays = 8 - firstDay == 8 ? 1 : 8 - firstDay;\n      for (let curri = 1; curri <= startDays; curri++) {\n        let tdData2 = {\n          sign: this.signDayTxt(y, m, curri),\n          yearNo: y,\n          monthNo: m,\n          daynumber: curri,\n          weekendsDay: false,\n          otherMonth: false,\n        };\n        // if (JCLunar.solar2lunar(y, m, curri).nWeek > 5) {\n        //   tdData2.weekendsDay = true;\n        // }\n        tdListResult.push(tdData2);\n      }\n\n      tbodyListResult.push({ tdList: tdListResult });\n\n      // 指定年月最后一天\n      let currMonthLashDay = this.getCurrMonthLashDay(y, m);\n      // 当月除开第一行的起点\n      // let currmonthStartDay = startDays + 1;\n      // 当月还剩余的天数\n      // let restDays = currMonthLashDay - startDays;\n      // 循环次数-每个月都有6行，就不需要计算循环次数；\n      let loopT = 5;\n      // if (this.check(restDays / 7)) {\n      //   //是小数\n      //   loopT = Math.ceil(restDays / 7); //向上取整\n      // } else {\n      //   loopT = restDays / 7;\n      // }\n      //这是下个月开始的变量;\n      let lastFirstDay = 1;\n      let tbodyListResult3 = [];\n      for (let i = 0; i < loopT; i++) {\n        let tdListResult3 = [];\n        for (let j = 0; j < 7; j++) {\n          let tdData3 = {\n            sign: \"\",\n            yearNo: \"\",\n            monthNo: \"\",\n            daynumber: \"\",\n            almanac: \"\",\n            weekendsDay: false,\n            otherMonth: false,\n            festivalDay: \"\",\n          };\n          if (startDays == 0) {\n            tdData3.sign = this.signDayTxt(\n              parseInt(m) + 1 == 13 ? parseInt(y) + 1 : y,\n              parseInt(m) + 1 == 13 ? 1 : parseInt(m) + 1,\n              lastFirstDay\n            );\n            tdData3.yearNo = parseInt(m) + 1 == 13 ? parseInt(y) + 1 : y;\n            tdData3.monthNo = parseInt(m) + 1 == 13 ? 1 : parseInt(m) + 1;\n            tdData3.daynumber = lastFirstDay;\n            tdData3.otherMonth = true;\n            lastFirstDay++;\n          } else {\n            startDays++;\n            tdData3.sign = this.signDayTxt(y, m, startDays);\n            tdData3.yearNo = y;\n            tdData3.monthNo = m;\n            tdData3.daynumber = startDays;\n            tdData3.otherMonth = false;\n            if (startDays == currMonthLashDay) {\n              //下个月\n              startDays = 0;\n            }\n          }\n          tdListResult3.push(tdData3);\n        }\n        tbodyListResult3.push({ tdList: tdListResult3 });\n      }\n      this.tbodyList = tbodyListResult.concat(tbodyListResult3);\n    },\n    //根据传入的年月日获取具体的时间信息\n    setdateinfo(year, month, day) {\n      let date1 = new Date();\n      date1.setFullYear(parseInt(year));\n      date1.setMonth(parseInt(month) - parseInt(1), parseInt(day));\n      return date1;\n    },\n    //得到指定月的上个月最后一天传进来按 12月算\n    getPervMonthLastDay(year, month) {\n      //当月就是  month-1 也就是计算机里面的0-11月份,那么算上个月的最后一天就是当月的0天\n      return parseInt(new Date(year, month - 1, 0).getDate());\n    },\n    // 计算是否是节假日\n\n    // 得到指定月最后一天，传进来按 12月算\n    getCurrMonthLashDay(year, month) {\n      if (month >= 12) {\n        year = year + 1;\n        month = month - 12;\n      }\n      return parseInt(new Date(year, month, 0).getDate());\n    },\n    //判断c是否是小数\n    check(c) {\n      let r = /^[+-]?[1-9]?[0-9]*\\.[0-9]*$/;\n      return r.test(c);\n    },\n    // 判断日期是“休”,“班”还是“”\n    signDayTxt(y, m, d) {\n      // weekdays: return \"班\"\n      // weekends: return \"休\"\n      for (let i in this.weekdays) {\n        let weekDTxt = this.weekdays[i];\n        let weekDArr = weekDTxt.split(\"-\");\n        if (\n          parseInt(weekDArr[0]) == y &&\n          parseInt(weekDArr[1]) == m &&\n          parseInt(weekDArr[2]) == d\n        ) {\n          return \"班\";\n        }\n      }\n      for (let j in this.weekends) {\n        let weekETxt = this.weekends[j];\n        let weekEArr = weekETxt.split(\"-\");\n        if (\n          parseInt(weekEArr[0]) == y &&\n          parseInt(weekEArr[1]) == m &&\n          parseInt(weekEArr[2]) == d\n        ) {\n          return \"休\";\n        }\n      }\n      return \"\";\n    },\n    // 点击某一天\n    clickDate(m, n) {\n      let dateInfo = this.tbodyList[m].tdList[n];\n      this.selectedYear = dateInfo.yearNo;\n      this.selectedMonth = dateInfo.monthNo;\n      this.selectedDay = dateInfo.daynumber;\n      this.initCalendar(this.selectedYear, this.selectedMonth);\n      this.$emit(\"choseDay\");\n    },\n    // 去年\n    prevYear() {\n      this.selectedYear = parseInt(this.selectedYear) - 1;\n      this.initCalendar(this.selectedYear, this.selectedMonth);\n    },\n    // 明年\n    nextYear() {\n      this.selectedYear = parseInt(this.selectedYear) + 1;\n      this.initCalendar(this.selectedYear, this.selectedMonth);\n    },\n    // 上一个月\n    prevMonth() {\n      this.selectedYear =\n        parseInt(this.selectedMonth) - 1 > 0\n          ? this.selectedYear\n          : parseInt(this.selectedYear) - 1;\n      this.selectedMonth =\n        parseInt(this.selectedMonth) - 1 > 0\n          ? parseInt(this.selectedMonth) - 1\n          : 12;\n      this.initCalendar(this.selectedYear, this.selectedMonth);\n      this.$emit(\"changeMonth\");\n    },\n    // 下一个月\n    nextMonth() {\n      this.selectedYear =\n        parseInt(this.selectedMonth) + 1 > 12\n          ? parseInt(this.selectedYear) + 1\n          : this.selectedYear;\n\n      this.selectedMonth =\n        parseInt(this.selectedMonth) + 1 > 12\n          ? 1\n          : parseInt(this.selectedMonth) + 1;\n      this.initCalendar(this.selectedYear, this.selectedMonth);\n      this.$emit(\"changeMonth\");\n    },\n    // 返回今天\n    backtoToday() {\n      this.selectedYear = this.currYear;\n      this.selectedMonth = this.currMonth;\n      this.selectedDay = this.currDay;\n      this.initCalendar(this.currYear, this.currMonth);\n      this.$emit(\"isToday\");\n    },\n    // 标记\n    markStyle(i1, i2) {\n      let dayInfo = this.tbodyList[i1].tdList[i2];\n      for (let i in this.markDate) {\n        let markArr = this.markDate[i].split(\"/\");\n        if (\n          markArr[0] == dayInfo.yearNo &&\n          markArr[1] == dayInfo.monthNo &&\n          markArr[2] == dayInfo.daynumber\n        ) {\n          return true;\n        } else continue;\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.c-header {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  user-select: none;\n  .c-btn {\n    margin: 0 5px;\n    width: 30px;\n    height: 30px;\n    font-size: 14px;\n    line-height: 30px;\n    color: #2e8cff;\n    font-weight: bold;\n    text-align: center;\n    cursor: pointer;\n  }\n  .c-seleced {\n    margin: 0 5px;\n    width: 120px;\n    font-size: 14px;\n    line-height: 20px;\n    color: #2e8cff;\n    font-weight: bold;\n    text-align: center;\n  }\n}\n// 回到今天\n.back-today {\n  position: relative;\n  right: calc(-100% + 68px);\n  margin-top: 20px;\n  width: 68px;\n  height: 30px;\n  line-height: 30px;\n  text-align: center;\n  color: #fff;\n  background: #2e8cff;\n  border-radius: 6px;\n  cursor: pointer;\n  &:hover {\n    background: #315efb;\n  }\n}\n\n// 具体日期区域\n.content-box {\n  user-select: none;\n  .content-thead {\n    margin-top: 14px;\n    justify-content: center;\n    align-items: center;\n    height: 36px;\n    display: flex;\n    .content-th {\n      flex: 1;\n      height: 13px;\n      justify-content: center;\n      align-items: center;\n      font-size: 13px;\n      color: #333333;\n      text-align: center;\n      line-height: 13px;\n    }\n  }\n  .content-row {\n    display: flex;\n    .content-td {\n      flex: 1;\n      padding: 2px;\n      .cell-box {\n        position: relative;\n        justify-content: center;\n        align-content: center;\n        align-items: center;\n        flex-direction: column;\n        border-radius: 6px;\n        height: 56px;\n        padding: 4px 2px 2px 2px;\n        box-sizing: border-box;\n        border: 2px solid transparent;\n        overflow: hidden;\n        line-height: 1;\n        zoom: 1;\n        cursor: pointer;\n        .cell-holiday-sign {\n          position: absolute;\n          left: 4px;\n          top: 4px;\n          color: #f73131;\n          font-size: 12px;\n          line-height: 12px;\n        }\n        .cell-daynumber {\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          font-size: 14px;\n          line-height: 30px;\n          color: #000;\n          text-align: center;\n          .number {\n            width: 30px;\n            height: 30px;\n            background-color: transparent;\n            border-radius: 50%;\n          }\n          &.weekend {\n            color: #f73131;\n          }\n        }\n        .cell-almanac {\n          color: #333;\n          font-size: 12px;\n          text-align: center;\n        }\n        &.selected {\n          border: 2px solid #bdbfc8;\n        }\n        &.today {\n          border: 2px solid #4e6ef2 !important;\n          .number {\n            background-color: #2e8cff;\n            color: #fff;\n          }\n        }\n        &.cell-weekend-box {\n          background: #fde3e4;\n          &:hover {\n            border: 2px solid #f38686 !important;\n          }\n        }\n        &.cell-weekday-box {\n          background: #f5f5f6;\n          .cell-holiday-sign {\n            color: #626675;\n          }\n          .cell-daynumber {\n            &.weekend {\n              color: #000;\n            }\n          }\n        }\n        &.other {\n          filter: alpha(opacity=40);\n          opacity: 0.4;\n        }\n        &:hover {\n          border-color: #bdbfc8;\n        }\n        // &.festival {\n        //   &.selected {\n        //     border: 2px solid #f38686 !important;\n        //   }\n        // }\n        &.cell-weekend-box {\n          &.selected {\n            border: 2px solid #f38686 !important;\n          }\n        }\n      }\n    }\n  }\n}\n\n// 标记\n.cell-mark {\n  display: flex;\n  justify-content: center;\n  i {\n    width: 8px;\n    height: 8px;\n    border-radius: 50%;\n    background-color: #f0f;\n  }\n}\n</style>\n","import { render } from \"./date.vue?vue&type=template&id=293da161&scoped=true\"\nimport script from \"./date.vue?vue&type=script&lang=js\"\nexport * from \"./date.vue?vue&type=script&lang=js\"\n\nimport \"./date.vue?vue&type=style&index=0&id=293da161&lang=less&scoped=true\"\n\nimport exportComponent from \"D:\\\\jin-repo\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-293da161\"]])\n\nexport default __exports__","import { render } from \"./calendarNormal.vue?vue&type=template&id=59a504c0\"\nimport script from \"./calendarNormal.vue?vue&type=script&lang=js\"\nexport * from \"./calendarNormal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\jin-repo\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}